<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Josie Astrid Consulting</title>
    <link rel="stylesheet" href="./static/style.css">
</head>
<body>
    <nav class="nav">
        <div class="nav-container">
            <a href="./index.html" class="nav-brand">
                <img src="./static/JAC_Logo.png" alt="Josie Astrid Consulting" class="nav-logo">
            </a>
            <div class="nav-links">
                <a href="./index.html" class="active">Home</a>
                <a href="./about.html">About</a>
                <a href="./contact.html">Contact</a>
            </div>
            <button class="mobile-menu-btn" aria-label="Menu">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </button>
        </div>
    </nav>

    <main class="main">
        <div class="container">
            <div class="home-content">
                <div class="home-body">
                    <div class="home-text">
                        <h1>Welcome to Josie Astrid Consulting</h1>
                        <p class="main-paragraph">Meet my AI twin. It's trained on my background, my work, and how I think. It even speaks in my voice. Ask it about my experience, how I work with clients, or what I can help you solve.</p>
                        <button id="vapi-voice-btn" class="voice-btn">
                            <span class="voice-btn-text">TALK TO MY AI TWIN</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay">
        <button class="mobile-menu-close" aria-label="Close menu">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </button>
        <ul class="mobile-nav-links">
            <li><a href="./index.html" class="active">Home</a></li>
            <li><a href="./about.html">About</a></li>
            <li><a href="./contact.html">Contact</a></li>
        </ul>
    </div>

    <script>
        var vapiInstance = null;
        const assistant = "eea2ce9f-3124-462f-9a5c-3b6a0a16672b";
        const apiKey = "0cf8ba01-833e-42bc-8bb8-83cf4d3035b8";

        (function (d, t) {
            var g = document.createElement(t),
                s = d.getElementsByTagName(t)[0];
            g.src = "https://cdn.jsdelivr.net/gh/VapiAI/html-script-tag@latest/dist/assets/index.js";
            g.defer = true;
            g.async = true;
            s.parentNode.insertBefore(g, s);

            g.onload = function () {
                // Initialize Vapi SDK without creating any widget
                if (window.vapiSDK && window.vapiSDK.Vapi) {
                    vapiInstance = new window.vapiSDK.Vapi({
                        apiKey: apiKey
                    });
                } else {
                    // Fallback to run method but with completely hidden config
                    vapiInstance = window.vapiSDK.run({
                        apiKey: apiKey,
                        assistant: assistant,
                        config: {
                            position: 'bottom-right',
                            offset: '-99999px',
                            width: '0px',
                            height: '0px',
                            idle: { color: 'rgba(0,0,0,0)', display: 'none' },
                            loading: { color: 'rgba(0,0,0,0)', display: 'none' },
                            active: { color: 'rgba(0,0,0,0)', display: 'none' }
                        }
                    });
                }
                
                // Add click handler to our custom button
                const customBtn = document.getElementById('vapi-voice-btn');
                if (customBtn) {
                    customBtn.addEventListener('click', function() {
                        if (vapiInstance) {
                            if (vapiInstance.start) {
                                vapiInstance.start(assistant);
                            } else if (vapiInstance.call) {
                                vapiInstance.call({ assistant: assistant });
                            }
                        }
                    });
                }
            };
        })(document, "script");
    </script>
    <script src="./config.js"></script>
    <script src="./static/app.js"></script>
</body>
</html>
